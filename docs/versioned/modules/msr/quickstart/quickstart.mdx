---
sidebar_label: Quickstart
sidebar_position: 1
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Quickstart

This guide will walk you through the process of setting up and using the MSR (Multi-Session Replay) module to record and replay your first session.

## Prerequisites

- You have a running instance of the AGIL Ops Hub platform with the following module dependencies:
  - `iams`
  - `rtus`
  - `gis`
- You have Docker or Podman installed.
- You have a web application that you want to record.

## 1. Deploy the MSR Module

Run the compose file containing all the GIS services and the containers for the CDC system (Debezium):

<Tabs>
<TabItem value="docker" label="Docker">

```bash title="From root .git folder"
docker compose --env-file .env -f msr/compose.yml -f compose.override.yml up -d
```

</TabItem>
<TabItem value="podman" label="Podman">

```bash title="From root .git folder"  
podman compose --env-file .env -f msr/compose.yml -f compose.override.yml up -d
```

</TabItem>
</Tabs>

### What This Deploys

The compose files will deploy the following infrastructure components:

#### MSR Core Services
- **MSR Backend**: Main application server handling session recording and replay functionality
- **MSR Database**: PostgreSQL database storing session metadata and CDC events
- **MSR UI**: Web interface for viewing and replaying recorded sessions

#### CDC Infrastructure  
- **Kafka Connect**: Manages source and sink connectors for change data capture
- **Redpanda**: Kafka-compatible streaming platform for real-time event processing
- **Source Connectors**: Capture changes from GIS database tables
- **Sink Connectors**: Stream processed events to MSR database

#### Default Credentials

The credentials (`DEV_USER` and `DEV_PASSWORD`) are defined in your `.env` file. Example for user credentials:

| Service | Username | Password | Notes |
|---------|----------|----------|-------|
| MSR Database | `${MSR_DB_USER}` | `${MSR_DB_PASSWORD}` | PostgreSQL instance for MSR |
| GIS Database | `${GIS_DB_USER}` | `${GIS_DB_PASSWORD}` | Source database for CDC |

:::warning
These are development credentials. **Always change these for production deployments** and use proper secret management.
:::

#### Container Images

The deployment pulls the following container images:

- **MSR App**: `ghcr.io/mssfoobar/msr/msr-app:latest-dev`
- **Database**: `ghcr.io/mssfoobar/msr/timescaledb:2.21.1-pg17-aoh` (TimescaleDb no HA)
- **Redpanda**: Official Redpanda images, e.g: `docker.redpanda.com/redpandadata/console:latest`
- **Kafka Connect**: `ghcr.io/mssfoobar/debezium-connect:latest` (custom build based on quay.io/debezium/connect:3.2, including required plugins)

Image tags are typically managed through environment variables in your `.env` file to ensure consistency across deployments.

## 2. Integrate the Recording Agent

Next, integrate the MSR recording agent into your web application by following the [agent integration guide](../development/agent_integration.mdx).

## 3. Record a Session

Once the agent is integrated, simply use your web application as a normal user would. The agent will automatically record your session in the background.

## 4. Replay the Session

After you have finished your session, navigate to the MSR replay UI. You should see your recorded session in the list. Click on the session to open the replay player. You can now watch a high-fidelity replay of your session.

*This is a placeholder document. More detailed quickstart guides for different scenarios will be added here.*
